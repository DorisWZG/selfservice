{% extends "member_service/base.html" %}    

    {% block title %}Glogou Featured Client in Education Sector{% endblock %}
    {% block description %}{% endblock %}
    {% block keyword %}{% endblock %}

    {% block script %} 
    <script type="text/javascript" src="https://www.google.com/jsapi?autoload={'modules':[{'name':'visualization','version':'1','packages':['annotationchart']}]}"></script>
    <script type="text/javascript">
      google.load('visualization', '1', {packages: ['annotationchart']});
      google.setOnLoadCallback(drawVisualization);
      function drawVisualization() {
      var data = new google.visualization.DataTable();
      data.addColumn('date', 'Date');
      data.addColumn('number', 'wholesale demand');
      data.addRows([{% for date, purchase_index1688,purchase_indexTb, supply_index in result %}
                   [new Date({{date.year}},{{date.month}},{{date.day}}),{{purchase_index1688}}],
                {% endfor %}                  
               ]);
      var chart = new google.visualization.AnnotationChart(
          document.getElementById('wholesale_demand'));
      var options = {
        displayAnnotations: true
      };
      chart.draw(data,options);
      }         
    </script>

    <script type="text/javascript">
      google.load('visualization', '1', {packages: ['annotationchart']});
      function drawVisualization() {
      var data = new google.visualization.DataTable();
      data.addColumn('date', 'Date');
      data.addColumn('number', 'retail demand');
      data.addRows([{% for date, purchase_index1688,purchase_indexTb, supply_index in result %}
                   [new Date({{date.year}},{{date.month}},{{date.day}}),{{purchase_indexTb}}],
                {% endfor %}                  
               ]);
      var chart = new google.visualization.AnnotationChart(
          document.getElementById('retail_demand'));
      chart.draw(data, {'displayAnnotations': true});
      }    
      google.setOnLoadCallback(drawVisualization);
    </script>

    <script type="text/javascript">
      google.load('visualization', '1', {packages: ['annotationchart']});
      function drawVisualization() {
      var data = new google.visualization.DataTable();
      data.addColumn('date', 'Date');
      data.addColumn('number', 'Supply');
      data.addRows([{% for date, purchase_index1688,purchase_indexTb, supply_index in result %}
                   [new Date({{date.year}},{{date.month}},{{date.day}}),{{supply_index}}],
                {% endfor %}                  
               ]);
      var chart = new google.visualization.AnnotationChart(
          document.getElementById('supply'));
      chart.draw(data, {'displayAnnotations': true});
      }    
      google.setOnLoadCallback(drawVisualization);
    </script>
    {% endblock %}

    {% block content %}

        <!-- Page Content -->
        <div id="page-wrapper">
            <div class="row">
                <div class="col-lg-12">
                    <h1 class="page-header">Index Search Result</h1>

                    <!--start sample data chart test -->
                        <div>
                            {% if error == "1" %}
                                <p align ="center" id="exception"><b>Sorry, no matched index found. Please try another product keyword.</b></p>
                            {% elif error == "0" %}
                            <h1 class="page-header">[ {{keyword}} : {{key_cn}} ]</h1>
                            <!-- start data chart display -->
                            <div class="ss-trends">
                                <div class="linechart-title" style="margin:10px;">
                                     <p style="color:rgba(0,0,0,.8);font:18px Times New Roman;margin:10px;">Retail Demand Trends
                                        <i class="icon-question-sign"></i>
                                    </p>
                                </div>
                                <!-- <div id="sales" style="width: 650px; height: 320px; margin: 10px auto;"></div> -->
                                <div id="retail_demand" class="visualization" style="width: 100%; height: 320px; margin: 10px auto;"></div>
                            </div>

                            <div class="price-trends">
                                <div class="linechart-title" style="margin:10px;">
                                  <p style="color:rgba(0,0,0,.8);font:18px Times New Roman;margin:10px;">Wholesale Demand Trends
                                    <i class="icon-question-sign"></i>
                                  </p>
                                </div>
                                <!--   <div id="price" style="width: 650px; height: 320px; margin: 10px auto;"></diva> -->
                                <div id="wholesale_demand" class="visualization" style="width: 100%; height: 320px; margin: 10px auto;"></div>
                            </div>
                              
                            <div class="ss-trends">
                                <div class="linechart-title" style="margin:10px;">
                                  <p style="color:rgba(0,0,0,.8);font:18px Times New Roman;margin:10px;">Supply Trends
                                    <i class="icon-question-sign"></i>
                                  </p>
                                </div>
                                <!-- <div id="supply" style="width: 650px; height: 320px; margin: 10px auto;"></div> -->
                                <div id="supply" class="visualization" style="width: 100%; height: 320px; margin: 10px auto;"></div>
                            </div> 
                            <!-- end of chart display -->

                            <!-- chart data test -->
                            <!--<table>
                              {% for date, purchase_index1688,purchase_indexTb, supply_index in result %}
                              <tr>

                                  <td>{{date.year}}-{{date.month}}-{{date.day}}</td>
                                  <td>{{date}}</td>
                                  <td>index1688: {{purchase_index1688}}</td> 
                                  <td>indexTB: {{purchase_indexTb}}</td>
                                  <td>supply_index: {{supply_index}}</td>
                              </tr>
                              {% endfor %}
                            </table> -->
                            <!-- end of chart data test -->

                            {% endif %}
                        </div>
                    <!-- end of sample data chart test -->

                </div>
                <!-- /.col-lg-12 -->
            </div>
            <!-- /.row -->
        </div>
        <!-- /#page-wrapper -->

    </div>
    <!-- /#wrapper -->
    {% endblock %}
