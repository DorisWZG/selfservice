{% extends "default_web/base.html" %}
{% load staticfiles%}

{#    {% block title %}Glogou Product and Service{% endblock %}#}
{% block description %}{% endblock %}
{% block keyword %}{% endblock %}
{% block title %}Glogou Featured Client in Education Sector{% endblock %}


{% block content %}

<!-- Page Content -->
<div id="page-wrapper">
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">Please choose the product you want to search</h1>
            <!--start sample search -->
            <form class="form-inline" id="cat-form" action="/default_web/stage1" method="GET" style="width:100%">
                <div class="form-group dropdown col-sm-2" style="padding-left: 0px">
                    <label class="hidden">{{ cat1 }}</label>
                    <label class="sr-only" for="cat1">Category_1</label>
                    <img name="getCat2" class="hidden" src="">
                    <input type="text" class="form-control hidden" id="cat1" name="cat1">
                    <button class="btn btn-default dropdown-toggle" type="button" id="cat1-list"
                            data-toggle="dropdown" aria-expanded="true" style="width: 100%; text-align: left">
                        <strong>Please Select</strong>
                        <span class="caret text-right"></span>
                    </button>
                    <ul class="dropdown-menu pre-scrollable" role="menu" aria-labelledby="dropdownMenuCat1">
                    </ul>
                </div>
                <div class="form-group dropdown col-sm-2" style="padding-left: 0px">
                    <label class="hidden">{{ cat2 }}</label>
                    <label class="sr-only" for="cat2">Category_2</label>
                    <img name="getCat3" class="hidden" src="">
                    <input type="text" class="form-control hidden" id="cat2" name="cat2">
                    <button class="btn btn-default dropdown-toggle disabled"  type="button" id="cat2-list"
                            data-toggle="dropdown" aria-expanded="true" style="width: 100%; text-align: left">
                        <strong>All</strong>
                        <span class="caret text-right"></span>
                    </button>
                    <ul class="dropdown-menu pre-scrollable" role="menu" aria-labelledby="dropdownMenuCat2">
                        <li><a>All</a></li>
                    </ul>
                </div>
                <div class="form-group dropdown col-sm-2" style="padding-left: 0px">
                    <label class="hidden">{{ cat3 }}</label>
                    <label class="sr-only" for="cat3">Category_3</label>
                    <input type="text" class="form-control hidden" id="cat3" name="cat3">
                    <button class="btn btn-default dropdown-toggle disabled" type="button" id="cat3-list"
                            data-toggle="dropdown" aria-expanded="true" style="width: 100%; text-align: left">
                        <strong>All</strong>
                        <span class="caret text-right"></span>
                    </button>
                    <ul class="dropdown-menu pre-scrollable" role="menu" aria-labelledby="dropdownMenuCat3">
                        <li><a>All</a></li>
                    </ul>
                </div>
                <button type="submit" class="btn btn-primary">Search</button>
            </form>
        </div>
    </div>
    <div class="row hidden" id="purchase_index1688_trends"></div>
    <div class="row hidden" id="purchase_indexTb_trends"></div>
    <div class="row hidden" id="supply_index_trends"></div>
</div>
<script src ="/static/javascript/stage1.js"></script>
<script>
    function createTrendChart(div, name, data, colorIdx) {
        div.children().remove();
        if (data.length == 0) {
            div.addClass('hidden');
            return;
        }
        div.removeClass('hidden');
        var color = Highcharts.getOptions().colors[colorIdx];
        div.highcharts('StockChart', {
            rangeSelector: {
                selected: 0
            },
            yAxis: {
                minRange: 0
            },
            navigator: {
                series: {
                    lineColor: color
                }
            },
            series: [
                {
                    name: name,
                    data: data,
                    type: 'areaspline',
                    color: color,
                    fillColor: {
                        linearGradient: {
                            x1: 0, y1: 0, x2: 0, y2: 1
                        },
                        stops: [
                            [0, color],
                            [1, Highcharts.Color(color).setOpacity(0).get('rgba')]
                        ]
                    }
                }
            ]
        });
    }
</script>
<script>
fillNextCat($('#cat-form div:first'), 'getCat1', 'All');
{% if purchase_index1688 %}
createTrendChart($('#purchase_index1688_trends'), 'Purchase Index 1688 Trends', {{ purchase_index1688 }}, 0);
{% endif %}
{% if purchase_indexTb %}
createTrendChart($('#purchase_indexTb_trends'), 'Purchase Index Taobao Trends', {{ purchase_indexTb }}, 2);
{% endif %}
{% if supply_index %}
createTrendChart($('#supply_index_trends'), 'Supply Index Trends', {{ supply_index }}, 3);
{% endif %}

</script>

{% endblock %}
